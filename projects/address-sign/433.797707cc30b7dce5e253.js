(self.webpackChunk=self.webpackChunk||[]).push([[433],{7433:function(t,e,n){"use strict";n.r(e),n.d(e,{App:function(){return F}});var i=n(4412),o=n(2100),r=n(1133),a=n(7994),s=n(7920),l=n(6976);function c(t){return(new i.ZzF).setFromObject(t).getSize(new i.Pa4)}function u(t,e,n,o){var r={depth:n,bevelEnabled:!1},a=function(t,e,n){var o=new i.bnF;return o.moveTo(0,0+n),o.lineTo(0,0+e-n),o.quadraticCurveTo(0,0+e,0+n,0+e),o.lineTo(0+t-n,0+e),o.quadraticCurveTo(0+t,0+e,0+t,0+e-n),o.lineTo(0+t,0+n),o.quadraticCurveTo(0+t,0,0+t-n,0),o.lineTo(0+n,0),o.quadraticCurveTo(0,0,0,0+n),o}(t,e,o),s=new i.O7d(a,r);return s.center(),s}var h=function(){function t(){this.polygons=[]}return t.prototype.clone=function(){var e=new t;return e.polygons=this.polygons.map((function(t){return t.clone()})),e},t.prototype.toPolygons=function(){return this.polygons},t.prototype.union=function(e){var n=new y(this.clone().polygons),i=new y(e.clone().polygons);return n.clipTo(i),i.clipTo(n),i.invert(),i.clipTo(n),i.invert(),n.build(i.allPolygons()),t.fromPolygons(n.allPolygons())},t.prototype.subtract=function(e){var n=new y(this.clone().polygons),i=new y(e.clone().polygons);return n.invert(),n.clipTo(i),i.clipTo(n),i.invert(),i.clipTo(n),i.invert(),n.build(i.allPolygons()),n.invert(),t.fromPolygons(n.allPolygons())},t.prototype.intersect=function(e){var n=new y(this.clone().polygons),i=new y(e.clone().polygons);return n.invert(),i.clipTo(n),i.invert(),n.clipTo(i),i.clipTo(n),n.build(i.allPolygons()),n.invert(),t.fromPolygons(n.allPolygons())},t.prototype.inverse=function(){var t=this.clone();return t.polygons.map((function(t){t.flip()})),t},t.fromPolygons=function(e){var n=new t;return n.polygons=e,n},t.fromGeometry=function(e,n){var i,o=[],r=e.attributes.position,a=e.attributes.normal,s=e.attributes.uv,l=e.attributes.color;if(e.index)i=e.index.array;else{i=new Array(r.array.length/r.itemSize|0);for(var c=0;c<i.length;c++)i[c]=c}var u=i.length/3|0;o=new Array(u);c=0;for(var h=0,p=i.length;c<p;c+=3,h++){for(var f=new Array(3),d=0;d<3;d++){var g=i[c+d],y=3*g,w=2*g,b=r.array[y],x=r.array[y+1],M=r.array[y+2],S=a.array[y],z=a.array[y+1],P=a.array[y+2],T=s.array[w],k=s.array[w+1];f[d]=new m({x:b,y:x,z:M},{x:S,y:z,z:P},{x:T,y:k,z:0},l&&{x:l.array[w],y:l.array[w+1],z:l.array[w+2]})}o[h]=new v(f,n)}return t.fromPolygons(o)},t.ttvv0=new i.Pa4,t.tmpm3=new i.Vkp,t.fromMesh=function(e,n){e.updateMatrix();var o=t.fromGeometry(e.geometry,n);t.tmpm3.getNormalMatrix(e.matrix);for(var r=0;r<o.polygons.length;r++)for(var a=o.polygons[r],s=0;s<a.vertices.length;s++){var l=a.vertices[s];l.pos.copy(t.ttvv0.copy(new i.Pa4(l.pos.x,l.pos.y,l.pos.z)).applyMatrix4(e.matrix)),l.normal.copy(t.ttvv0.copy(new i.Pa4(l.normal.x,l.normal.y,l.normal.z)).applyMatrix3(t.tmpm3))}return o},t.fromGroup=function(e){var n=new t;return e.traverse((function(e){e instanceof i.Kj0&&(e.updateMatrix(),n=n.union(t.fromMesh(e)))})),n},t.nbuf3=function(t){return{top:0,array:new Float32Array(t),write:function(t){this.array[this.top++]=t.x,this.array[this.top++]=t.y,this.array[this.top++]=t.z}}},t.nbuf2=function(t){return{top:0,array:new Float32Array(t),write:function(t){this.array[this.top++]=t.x,this.array[this.top++]=t.y}}},t.toMesh=function(e,n,o){var r,a=e.polygons,s=0;a.forEach((function(t){return s+=t.vertices.length-2})),r=new i.u9r;var l,c=t.nbuf3(3*s*3),u=t.nbuf3(3*s*3),h=t.nbuf2(2*s*3),p=[];if(a.forEach((function(e){var n=e.vertices,i=n.length;void 0!==e.shared&&(p[e.shared]||(p[e.shared]=[])),i&&void 0!==n[0].color&&(l||(l=t.nbuf3(3*s*3)));for(var o=3;o<=i;o++)void 0!==e.shared&&p[e.shared].push(c.top/3,c.top/3+1,c.top/3+2),c.write(n[0].pos),c.write(n[o-2].pos),c.write(n[o-1].pos),u.write(n[0].normal),u.write(n[o-2].normal),u.write(n[o-1].normal),h.write(n[0].uv),h.write(n[o-2].uv),h.write(n[o-1].uv),l&&(l.write(n[0].color)||l.write(n[o-2].color)||l.write(n[o-1].color))})),r.setAttribute("position",new i.TlE(c.array,3)),r.setAttribute("normal",new i.TlE(u.array,3)),r.setAttribute("uv",new i.TlE(h.array,2)),l&&r.setAttribute("color",new i.TlE(l.array,3)),p.length){for(var f=[],d=0,m=0;m<p.length;m++)r.addGroup(d,p[m].length,m),d+=p[m].length,f=f.concat(p[m]);r.setIndex(f)}var g=(new i.yGw).copy(n).invert();r.applyMatrix4(g),r.computeBoundingSphere(),r.computeBoundingBox();var v=new i.Kj0(r,o);return v.matrix.copy(n),v.matrix.decompose(v.position,v.quaternion,v.scale),v.rotation.setFromQuaternion(v.quaternion),v.updateMatrixWorld(),v.castShadow=v.receiveShadow=!0,v},t}(),p=function(){function t(t,e,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),this.x=t,this.y=e,this.z=n}return t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},t.prototype.clone=function(){return new t(this.x,this.y,this.z)},t.prototype.negate=function(){return this.x*=-1,this.y*=-1,this.z*=-1,this},t.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this},t.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this},t.prototype.times=function(t){return this.x*=t,this.y*=t,this.z*=t,this},t.prototype.dividedBy=function(t){return this.x/=t,this.y/=t,this.z/=t,this},t.prototype.lerp=function(t,e){return this.add(f.copy(t).sub(this).times(e))},t.prototype.unit=function(){return this.dividedBy(this.length())},t.prototype.length=function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2)+Math.pow(this.z,2))},t.prototype.normalize=function(){return this.unit()},t.prototype.cross=function(t){var e=this,n=e.x,i=e.y,o=e.z,r=t.x,a=t.y,s=t.z;return this.x=i*s-o*a,this.y=o*r-n*s,this.z=n*a-i*r,this},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y+this.z*t.z},t}(),f=new p(0,0,0),d=new p(0,0,0),m=function(){function t(t,e,n,i){this.pos=(new p).copy(t),this.normal=(new p).copy(e),this.uv=(new p).copy(n),this.uv.z=0,i&&(this.color=(new p).copy(i))}return t.prototype.clone=function(){return new t(this.pos,this.normal,this.uv,this.color)},t.prototype.flip=function(){this.normal.negate()},t.prototype.interpolate=function(e,n){return new t(this.pos.clone().lerp(e.pos,n),this.normal.clone().lerp(e.normal,n),this.uv.clone().lerp(e.uv,n),this.color&&e.color&&this.color.clone().lerp(e.color,n))},t}(),g=function(){function t(t,e){this.normal=t,this.w=e}return t.prototype.clone=function(){return new t(this.normal.clone(),this.w)},t.prototype.flip=function(){this.normal.negate(),this.w=-this.w},t.prototype.splitPolygon=function(e,n,i,o,r){for(var a=0,s=[],l=0;l<e.vertices.length;l++){var c=(w=this.normal.dot(e.vertices[l].pos)-this.w)<-t.EPSILON?2:w>t.EPSILON?1:0;a|=c,s.push(c)}switch(a){case 0:(this.normal.dot(e.plane.normal)>0?n:i).push(e);break;case 1:o.push(e);break;case 2:r.push(e);break;case 3:var u=[],h=[];for(l=0;l<e.vertices.length;l++){var p=(l+1)%e.vertices.length,d=s[l],m=s[p],g=e.vertices[l],y=e.vertices[p];if(2!=d&&u.push(g),1!=d&&h.push(2!=d?g.clone():g),3==(d|m)){var w=(this.w-this.normal.dot(g.pos))/this.normal.dot(f.copy(y.pos).sub(g.pos)),b=g.interpolate(y,w);u.push(b),h.push(b.clone())}}u.length>=3&&o.push(new v(u,e.shared)),h.length>=3&&r.push(new v(h,e.shared))}},t.EPSILON=1e-5,t.fromPoints=function(e,n,i){var o=f.copy(n).sub(e).cross(d.copy(i).sub(e)).normalize();return new t(o.clone(),o.dot(e))},t}(),v=function(){function t(t,e){this.vertices=t,this.shared=e,this.plane=g.fromPoints(t[0].pos,t[1].pos,t[2].pos)}return t.prototype.clone=function(){return new t(this.vertices.map((function(t){return t.clone()})),this.shared)},t.prototype.flip=function(){this.vertices.reverse().map((function(t){return t.flip()})),this.plane.flip()},t}(),y=function(){function t(t){this.polygons=[],t&&this.build(t)}return t.prototype.clone=function(){var e=new t;return e.plane=this.plane&&this.plane.clone(),e.front=this.front&&this.front.clone(),e.back=this.back&&this.back.clone(),e.polygons=this.polygons.map((function(t){return t.clone()})),e},t.prototype.invert=function(){for(var t=0;t<this.polygons.length;t++)this.polygons[t].flip();this.plane&&this.plane.flip(),this.front&&this.front.invert(),this.back&&this.back.invert();var e=this.front;this.front=this.back,this.back=e},t.prototype.clipPolygons=function(t){if(!this.plane)return t.slice();for(var e=[],n=[],i=0;i<t.length;i++)this.plane.splitPolygon(t[i],e,n,e,n);return this.front&&(e=this.front.clipPolygons(e)),n=this.back?this.back.clipPolygons(n):[],e.concat(n)},t.prototype.clipTo=function(t){this.polygons=t.clipPolygons(this.polygons),this.front&&this.front.clipTo(t),this.back&&this.back.clipTo(t)},t.prototype.allPolygons=function(){var t=this.polygons.slice();return this.front&&(t=t.concat(this.front.allPolygons())),this.back&&(t=t.concat(this.back.allPolygons())),t},t.prototype.build=function(e){if(e.length){this.plane||(this.plane=e[0].plane.clone());for(var n=[],i=[],o=0;o<e.length;o++)this.plane.splitPolygon(e[o],this.polygons,this.polygons,n,i);n.length&&(this.front||(this.front=new t),this.front.build(n)),i.length&&(this.back||(this.back=new t),this.back.build(i))}},t.fromJSON=function(t){return h.fromPolygons(t.polygons.map((function(t){return new v(t.vertices.map((function(t){return new m(t.pos,t.normal,t.uv)})),t.shared)})))},t}(),w=n(4120),b=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function a(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((i=i.apply(t,e||[])).next())}))},x=function(t,e){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},M=function(){function t(t,e,n,i,o){var r=this;this.path=t,this.name=e,this.fixSizeMultiplier=n,this.lowerCaseHeight=i,this.content=o,this.isLoaded=function(){return!!r.content},this.getRealSize=function(t){return t*r.fixSizeMultiplier},this.getLowerCaseHeight=function(t){return t*r.lowerCaseHeight}}return t.prototype.load=function(){var t=this;return new Promise((function(e,n){(new w.r).load(t.path,(function(n){t.content=new i.Zxw(n),t.computeHelpers(),e(t)}))}))},t.prototype.computeHelpers=function(){var t=new i.Kj0(new i.R9B("0",{font:this.content,size:1,curveSegments:5}));this.fixSizeMultiplier=1/c(t).y;var e=new i.Kj0(new i.R9B("o",{font:this.content,size:1,curveSegments:5}));this.lowerCaseHeight=c(e).y},t}(),S=function(){function t(){this.dimensionsFont=new M(n(625),"Roboto"),this.fonts=[new M(n(2616),"Post No Bills Colombo"),new M(n(8584),"Magettas"),new M(n(2169),"Bravo Stencil"),new M(n(8922),"Allerta Stencil")]}return t.prototype.getFont=function(t){return b(this,void 0,void 0,(function(){var e;return x(this,(function(n){switch(n.label){case 0:return(e=this.fonts[t]).isLoaded()?[3,2]:[4,e.load()];case 1:n.sent(),n.label=2;case 2:return[2,e]}}))}))},t.prototype.getDimensionsFont=function(){return b(this,void 0,void 0,(function(){return x(this,(function(t){switch(t.label){case 0:return this.dimensionsFont.isLoaded()?[3,2]:[4,this.dimensionsFont.load()];case 1:t.sent(),t.label=2;case 2:return[2,this.dimensionsFont]}}))}))},t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t}();function z(t){var e={font:t.font,size:t.size,height:t.depth,curveSegments:5},n=new i.Kj0(new i.R9B(t.text,e)),o=new i.Kj0(new i.R9B(t.text[0],e));o.geometry.computeBoundingBox();var r=o.geometry.boundingBox.min;return n.position.set(-r.x,-r.y,-r.z),n}function P(t,e,n){var o={depth:n,bevelEnabled:!1},r=function(t,e){var n=0,o=0,r=e-t*Math.SQRT2*2-2*(t/Math.SQRT2-t/2),a=1.5*t,s=new i.bnF;return s.lineTo(n+=a,o+=a),s.arc(-t/Math.SQRT2/2,t/Math.SQRT2/2,t/2,-Math.PI/4,3*Math.PI/4,!1),s.lineTo(n=-t*Math.SQRT2,o=0),s.arc(t/2,-t/2,t/Math.SQRT2,3*Math.PI/4,Math.PI+Math.PI/4,!1),o-=t,s.lineTo(n+=a+t/Math.SQRT2,o-=a+t/Math.SQRT2),s.arc(t/Math.SQRT2/2,t/Math.SQRT2/2,t/2,3*-Math.PI/4,Math.PI/4,!1),s.lineTo(n=0,o=-t),s.lineTo(n+=r,o),s.lineTo(n-=a,o-=a),s.arc(t/Math.SQRT2/2,-t/Math.SQRT2/2,t/2,-Math.PI-Math.PI/4,-Math.PI/4,!1),s.lineTo(n=r+t*Math.SQRT2,o=-t),s.arc(-t/2,t/2,t/Math.SQRT2,-Math.PI/4,Math.PI/4,!1),o+=t,s.lineTo(n-=a+t/Math.SQRT2,o+=a+t/Math.SQRT2),s.arc(-t/Math.SQRT2/2,-t/Math.SQRT2/2,t/2,Math.PI/4,Math.PI+Math.PI/4,!1),s.lineTo(n=r,o=0),s}(t,e),a=new i.O7d(r,o);return a.center(),a}var T=function(){return T=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},T.apply(this,arguments)},k=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function a(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((i=i.apply(t,e||[])).next())}))},I=function(t,e){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},R=function(t,e,n){this.h=t,this.v=e,this.lineSpacing=null!=n?n:0},A=function(){function t(t,e,n){this.name=t,this.value=e,this.lightValue=n}return t.list=[new t("White",16777215,14540253),new t("Yellow",16770649,8547840)],t}(),B=function(){function t(t,e){this.name=t,this.mult=e}return t.prototype.getMultVector=function(){return new i.Pa4(this.mult,this.mult,this.mult)},t.list=[new t("S",.7),new t("M",1),new t("L",1.5)],t}(),C={height:10,radius:1,numSize:6,nameSize:2.3,nameIsTwoLines:!0,depth:.4,margin:new R(2,2),lineThikness:.4,material:new i.xoR({color:4539717,side:i.ehD}),basePrice:10},D=function(){function t(t,e){this.params=T(T({},C),t),this.generate=e(this.params)}return t.genNumText=function(t,e,n){var i=z({text:e.num,font:t.content,size:t.getRealSize(n.numSize),depth:n.depth}),o=c(i);return i.translateZ(-n.depth/2),[i,o]},t.genNameText=function(t,e,n){var o=new h;if(n.nameIsTwoLines){var r=z({text:e.name[0],font:t.content,size:t.getRealSize(n.nameSize),depth:n.depth}),a=z({text:e.name[1],font:t.content,size:t.getRealSize(n.nameSize),depth:n.depth});r.translateY(n.margin.lineSpacing+n.nameSize),r.translateZ(-n.depth/2),a.translateZ(-n.depth/2),o=(o=o.union(h.fromMesh(r))).union(h.fromMesh(a))}else{var s=new i.Kj0(new i.R9B(e.name.join(" "),{font:t.content,size:n.nameSize,height:n.depth,curveSegments:5}));s.translateZ(-n.depth/2),o=o.union(h.fromMesh(s))}var l=h.toMesh(o,new i.yGw);return[l,c(l)]},t.genLine=function(t){var e=new i.Kj0(new i.nvb(t.lineThikness,t.numSize,t.depth));return e.position.set(t.lineThikness/2,t.numSize/2,0),e},t.genPlates=function(t,e,n,o,r){var a=new i.Kj0(u(t,e,o.depth,o.radius)),s=new i.Kj0(u(t,e,o.depth,o.radius));s.position.set(0,0,-o.depth);var l=h.fromMesh(a),c=h.fromMesh(s),p=h.fromGroup(n),f=l.subtract(p);f=f.union(c);var d=h.toMesh(f,new i.yGw,o.material);d.name="plateMesh";var m=new i.Kj0(u(t-1,e-1,.01,o.radius),new i.xoR({color:A.list[r.colorId].lightValue}));m.name="backlightMeshGlowing",m.position.set(0,0,-o.depth/2+.1),m.layers.enable(1);var g=new i.Kj0(u(t-1,e-1,.01,o.radius),new i.xoR({color:A.list[r.colorId].value}));return g.name="backlightMesh",g.position.set(0,0,-o.depth/2+.1),d.scale.copy(B.list[r.sizeId].getMultVector()),m.scale.copy(B.list[r.sizeId].getMultVector()),g.scale.copy(B.list[r.sizeId].getMultVector()),[d,m,g]},t.genDimensionsArrows=function(t,e){return k(this,void 0,void 0,(function(){var n,o,r,a,s,l,u,h,p,f,d;return I(this,(function(m){switch(m.label){case 0:return n=new i.ZAu,(o=new i.Kj0(P(.25,t,.05),new i.xoR)).translateY(e/2+1.5),a=z,s={text:Math.floor(20*t).toFixed(2)+" mm"},[4,S.getInstance().getDimensionsFont()];case 1:return(r=a.apply(void 0,[(s.font=m.sent().content,s.size=.8,s.depth=.05,s)])).material=new i.xoR,l=c(r),r.translateY(e/2+2.4),r.translateX(-l.x/2),(u=new i.Kj0(P(.25,e,.05),new i.xoR)).translateX(t/2+1.5),u.rotateZ(Math.PI/2),p=z,f={text:(20*e).toFixed(2)+" mm"},[4,S.getInstance().getDimensionsFont()];case 2:return(h=p.apply(void 0,[(f.font=m.sent().content,f.size=.8,f.depth=.05,f)])).material=new i.xoR,d=c(h),h.translateX(t/2+2.5),h.translateY(d.x/2),h.rotateZ(-Math.PI/2),n.add(o,r,u,h),[2,n]}}))}))},t}(),j=[new D({numSize:6,nameSize:2.3,nameIsTwoLines:!0,margin:new R(2,2,1.5)},(function(t){return function(e){return k(void 0,void 0,void 0,(function(){var n,o,r,a,s,l,u,h,p,f,d,m,g,v,y,w,b;return I(this,(function(x){switch(x.label){case 0:return[4,S.getInstance().getFont(e.fontId)];case 1:return n=x.sent(),o=D.genNumText(n,e,t),r=o[0],a=o[1],s=D.genNameText(n,e,t),l=s[0],u=s[1],h=D.genLine(t),p=0,f=new i.ZAu,p+=t.margin.h,r.translateX(p),p+=a.x+t.margin.h,h.translateX(p),p+=t.lineThikness+t.margin.h,l.translateX(p),p+=u.x+t.margin.h,d=p,f.add(r,l,h),f.traverse((function(e){e.translateX(-d/2),e.translateY(-t.numSize/2)})),m=D.genPlates(d,t.height,f,t,e),g=m[0],v=m[1],y=m[2],w=c(g),[4,D.genDimensionsArrows(w.x,w.y)];case 2:return b=x.sent(),[2,[g,v,y,b]]}}))}))}})),new D({numSize:6,nameSize:3.5,nameIsTwoLines:!1,margin:new R(2,2)},(function(t){return function(e){return k(void 0,void 0,void 0,(function(){var n,o,r,a,s,l,u,h,p,f,d,m,g,v,y,w,b;return I(this,(function(x){switch(x.label){case 0:return[4,S.getInstance().getFont(e.fontId)];case 1:return n=x.sent(),o=D.genNumText(n,e,t),r=o[0],a=o[1],s=D.genNameText(n,e,t),l=s[0],u=s[1],h=D.genLine(t),p=0,f=new i.ZAu,p+=t.margin.h,r.translateX(p),p+=a.x+t.margin.h,h.translateX(p),p+=t.lineThikness+t.margin.h,l.translateX(p),l.translateY(t.numSize/2-n.getLowerCaseHeight(t.nameSize)/2),p+=u.x+t.margin.h,d=p,f.add(r,l,h),f.traverse((function(e){e.translateX(-d/2),e.translateY(-t.numSize/2)})),m=D.genPlates(d,t.height,f,t,e),g=m[0],v=m[1],y=m[2],w=c(g),[4,D.genDimensionsArrows(w.x,w.y)];case 2:return b=x.sent(),[2,[g,v,y,b]]}}))}))}})),new D({numSize:5.5,nameSize:1.5,nameIsTwoLines:!1,margin:new R(1.5,1,.4)},(function(t){return function(e){return k(void 0,void 0,void 0,(function(){var n,o,r,a,s,l,u,h,p,f,d,m,g,v,y;return I(this,(function(w){switch(w.label){case 0:return[4,S.getInstance().getFont(e.fontId)];case 1:return n=w.sent(),o=D.genNumText(n,e,t),r=o[0],a=o[1],s=D.genNameText(n,e,t),l=s[0],u=s[1],h=new i.ZAu,p=2*t.margin.h+(u.x>a.x?u.x:a.x),r.translateX(p/2-a.x/2),r.translateY(t.nameSize/2+t.margin.lineSpacing),l.translateX(p/2-u.x/2),l.translateY(-t.nameSize/2-t.margin.lineSpacing),h.add(r,l),h.traverse((function(e){e.translateX(-p/2),e.translateY(-t.numSize/2)})),f=D.genPlates(p,t.height,h,t,e),d=f[0],m=f[1],g=f[2],v=c(d),[4,D.genDimensionsArrows(v.x,v.y)];case 2:return y=w.sent(),[2,[d,m,g,y]]}}))}))}})),new D({numSize:5.5,nameSize:1.5,nameIsTwoLines:!1,margin:new R(1.5,1,.4)},(function(t){return function(e){return k(void 0,void 0,void 0,(function(){var n,o,r,a,s,l,u,h,p,f,d,m,g,v,y;return I(this,(function(w){switch(w.label){case 0:return[4,S.getInstance().getFont(e.fontId)];case 1:return n=w.sent(),o=D.genNumText(n,e,t),r=o[0],a=o[1],s=D.genNameText(n,e,t),l=s[0],u=s[1],h=new i.ZAu,p=2*t.margin.h+(u.x>a.x?u.x:a.x),r.translateX(p-a.x-t.margin.h),r.translateY(t.nameSize/2+t.margin.lineSpacing),l.translateX(p-u.x-t.margin.h),l.translateY(-t.nameSize/2-t.margin.lineSpacing),h.add(r,l),h.traverse((function(e){e.translateX(-p/2),e.translateY(-t.numSize/2)})),f=D.genPlates(p,t.height,h,t,e),d=f[0],m=f[1],g=f[2],v=c(d),[4,D.genDimensionsArrows(v.x,v.y)];case 2:return y=w.sent(),[2,[d,m,g,y]]}}))}))}})),new D({height:8,numSize:5,nameSize:0,nameIsTwoLines:!1,margin:new R(2,2)},(function(t){return function(e){return k(void 0,void 0,void 0,(function(){var n,o,r,a,s,l,u,h,p,f,d,m;return I(this,(function(g){switch(g.label){case 0:return new i.ZAu,[4,S.getInstance().getFont(e.fontId)];case 1:return n=g.sent(),o=D.genNumText(n,e,t),r=o[0],a=o[1],s=new i.ZAu,l=2*t.margin.h+a.x,r.translateX(l/2-a.x/2),s.add(r),s.traverse((function(e){e.translateX(-l/2),e.translateY(-t.numSize/2)})),u=D.genPlates(l,t.height,s,t,e),h=u[0],p=u[1],f=u[2],d=c(h),[4,D.genDimensionsArrows(d.x,d.y)];case 2:return m=g.sent(),[2,[h,p,f,m]]}}))}))}}))],L=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function a(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((i=i.apply(t,e||[])).next())}))},O=function(t,e){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},F=function(){function t(t){this.darkMaterial=new i.vBJ({color:"black"}),this.materials={},this.input={plateIndex:0,num:"12",name:["Cooper","Road"],hasBacklight:!0,backlightIsOn:!1,showDimensions:!1,colorId:0,fontId:0,sizeId:1},this.renderDOM(),this.viewDOM=t,this.renderer=this.createRenderer(),this.camera=this.createCamera(),this.controls=this.createControls(),this.scene=this.createScene(),this.createLights(),this.createWall(),this.plate=new i.Kj0,this.backlightMesh=new i.Kj0,this.backlightMeshGlowing=new i.Kj0,this.dimensionsArrowsGroup=new i.ZAu,this.applyChanges();var e=this.createBloom(),n=e[0],o=e[1],r=e[2];this.bloomLayer=n,this.bloomComposer=o,this.finalComposer=r}return t.prototype.createRenderer=function(){var t=new i.CP7({antialias:!0,powerPreference:"high-performance",alpha:!0});return t.setClearColor(3750201,.14),t.setPixelRatio(window.devicePixelRatio),t.setSize(this.viewDOM.clientWidth,this.viewDOM.clientHeight),this.viewDOM.appendChild(t.domElement),t},t.prototype.createCamera=function(){var t=this.viewDOM.clientWidth/this.viewDOM.clientHeight,e=new i.cPb(75,t,4,2e3);return e.position.set(-20,5,40),e},t.prototype.createControls=function(){var t=new l.z(this.camera,this.viewDOM);return t.maxDistance=100,t.minDistance=10,t.minPolarAngle=Math.PI/4,t.maxPolarAngle=3*Math.PI/4,t.minAzimuthAngle=-Math.PI/3,t.maxAzimuthAngle=Math.PI/3,t.enablePan=!1,t},t.prototype.createScene=function(){return new i.xsS},t.prototype.createLights=function(){var t=new i.Mig("#ffffff",.2);this.scene.add(t);var e=new i.PMe("#ffffff",.4*1.5);e.position.set(35,60,60),e.angle=Math.PI/4,this.scene.add(e);var n=new i.PMe("#ffffff",.2);n.position.set(-35,60,60),n.angle=Math.PI/4,this.scene.add(n)},t.prototype.createWall=function(){var t=function(t){var e=1.5*t,o=new i.ZAu,r=new i.dpR;return r.load(n(975).Z,(function(t){var n=new i.Kj0(new i.nvb(100,50,10),new i.xoR({map:t}));n.position.set(0,-10,-5-e),n.name="wall",o.add(n)})),r.load(n(2406).Z,(function(t){var n=new i.Kj0(new i.nvb(20,55,20),new i.xoR({map:t}));n.position.set(-50,-7.5,-5-e),n.name="pole";var r=new i.Kj0(new i.nvb(20,55,20),new i.xoR({map:t}));r.position.set(50,-7.5,-5-e),r.name="pole",o.add(n),o.add(r)})),r.load(n(1031).Z,(function(t){var n=new i.Kj0(new i.nvb(23,2.5,23),new i.xoR({map:t}));n.position.set(-50,20,-5-e),n.name="wall";var r=new i.Kj0(new i._3(16,5,4),new i.xoR({map:t}));r.rotateY(Math.PI/4),r.position.set(-50,23.75,-5-e),r.name="cone";var a=new i.Kj0(new i.nvb(23,2.5,23),new i.xoR({map:t}));a.position.set(50,20,-5-e),a.name="wall";var s=new i.Kj0(new i._3(16,5,4),new i.xoR({map:t}));s.rotateY(Math.PI/4),s.position.set(50,23.75,-5-e),s.name="cone",o.add(n),o.add(r),o.add(a),o.add(s)})),o}(j[this.input.plateIndex].params.depth);this.scene.add(t)},t.prototype.createPlate=function(){return L(this,void 0,void 0,(function(){var t,e,n,i,o;return O(this,(function(r){switch(r.label){case 0:return[4,j[this.input.plateIndex].generate(this.input)];case 1:return t=r.sent(),e=t[0],n=t[1],i=t[2],o=t[3],this.scene.remove(this.plate,this.backlightMeshGlowing,this.backlightMesh,this.dimensionsArrowsGroup),this.plate=e,this.backlightMeshGlowing=n,this.backlightMesh=i,this.dimensionsArrowsGroup=o,this.scene.add(this.plate),this.toggleBacklight(),this.toggleDimensions(),[2]}}))}))},t.prototype.createBloom=function(){var t=new i.S9g;t.set(1);var e=new r.C(this.scene,this.camera),n=new s.m(new i.FM8(this.viewDOM.clientWidth,this.viewDOM.clientHeight),1,1,0),l=new o.xC(this.renderer);l.renderToScreen=!1,l.addPass(e),l.addPass(n);var c=new a.T(new i.jyz({uniforms:{baseTexture:{value:null},bloomTexture:{value:l.renderTarget2.texture}},vertexShader:"\nvarying vec2 vUv;\n\nvoid main() {\n\tvUv = uv;\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}\n",fragmentShader:"\nuniform sampler2D baseTexture;\nuniform sampler2D bloomTexture;\n\nvarying vec2 vUv;\n\nvoid main() {\n\tgl_FragColor = ( texture2D( baseTexture, vUv ) + vec4( 1.0 ) * texture2D( bloomTexture, vUv ) );\n}\n",defines:{}}),"baseTexture");c.needsSwap=!0;var u=new o.xC(this.renderer);return u.addPass(e),u.addPass(c),this.scene.traverse(this.disposeMaterial),[t,l,u]},t.prototype.darkenNonBloomed=function(){var t=this;this.scene.traverse((function(e){if(e.isMesh&&!1===t.bloomLayer.test(e.layers)){var n=e;t.materials[n.uuid]=n.material,n.material=t.darkMaterial}}))},t.prototype.restoreMaterials=function(){var t=this;this.scene.traverse((function(e){t.materials[e.uuid]&&(e.material=t.materials[e.uuid],delete t.materials[e.uuid])}))},t.prototype.disposeMaterial=function(t){t.material&&t.material.dispose()},t.prototype.onWindowResize=function(){this.camera.aspect=this.viewDOM.clientWidth/this.viewDOM.clientHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.viewDOM.clientWidth,this.viewDOM.clientHeight),this.renderer.setPixelRatio(window.devicePixelRatio),this.render()},t.prototype.render=function(){this.darkenNonBloomed(),this.bloomComposer.render(),this.restoreMaterials(),this.finalComposer.render()},t.prototype.update=function(){var t=this;this.controls.update(),this.render(),requestAnimationFrame((function(){return t.update()}))},t.prototype.toggleBacklight=function(t){null!=t&&(this.input.backlightIsOn=t),this.input.hasBacklight&&this.input.backlightIsOn?(this.scene.remove(this.backlightMesh),this.scene.add(this.backlightMeshGlowing)):(this.scene.remove(this.backlightMeshGlowing),this.scene.add(this.backlightMesh))},t.prototype.toggleDimensions=function(t){null!=t&&(this.input.showDimensions=t),this.input.showDimensions?this.scene.add(this.dimensionsArrowsGroup):this.scene.remove(this.dimensionsArrowsGroup)},t.prototype.updatePrice=function(){var t=j[this.input.plateIndex].params.basePrice,e=c(this.plate),n=Math.round(e.x*e.y*.1),i=this.input.hasBacklight?Math.round(e.x*e.y*.05):0;document.querySelector("#base-price").innerHTML=t.toString(),document.querySelector("#size-price").innerHTML=n.toString(),document.querySelector("#backlight-price").innerHTML=i.toString(),document.querySelector("#backlight-tr").style.display=this.input.hasBacklight?"table-row":"none",document.querySelector("#total-price").innerHTML=(t+n+i).toString()},t.prototype.setNum=function(t){this.input.num=t,this.applyChanges()},t.prototype.setName1=function(t){this.input.name[0]=t,this.applyChanges()},t.prototype.setName2=function(t){this.input.name[1]=t,this.applyChanges()},t.prototype.setPlateIndex=function(t){this.input.plateIndex=t,this.applyChanges()},t.prototype.setFontId=function(t){this.input.fontId=t,this.applyChanges()},t.prototype.setHasBacklight=function(t){this.input.hasBacklight=t,this.toggleBacklight(),this.renderDOM(),this.updatePrice()},t.prototype.setColorId=function(t){this.input.colorId=t,this.applyChanges()},t.prototype.setSizeId=function(t){this.input.sizeId=t,this.applyChanges()},t.prototype.applyChanges=function(){var t;return L(this,void 0,void 0,(function(){var e=this;return O(this,(function(n){return null===(t=document.querySelector(".loading-overlay"))||void 0===t||t.classList.add("show"),setTimeout((function(){return L(e,void 0,void 0,(function(){var t;return O(this,(function(e){switch(e.label){case 0:return[4,this.createPlate()];case 1:return e.sent(),this.renderDOM(),this.updatePrice(),null===(t=document.querySelector(".loading-overlay"))||void 0===t||t.classList.remove("show"),[2]}}))}))}),100),[2]}))}))},t.prototype.renderDOM=function(){var t=this;document.getElementById("font").innerHTML=S.getInstance().fonts.map((function(e,n){return'<option value="'+n+'" '+(n==t.input.fontId?'selected="selected"':"")+">"+e.name+"</option>"})).join("\n"),document.getElementById("street-number").value=this.input.num,document.getElementById("address-line-1").value=this.input.name[0],document.getElementById("address-line-2").value=this.input.name[1],document.getElementById("toggle-backlight").checked=this.input.backlightIsOn,document.getElementById("backlight-color").innerHTML=A.list.map((function(e,n){return'<option value="'+n+'" '+(n==t.input.colorId?'selected="selected"':"")+">"+e.name+"</option>"})).join("\n"),document.querySelector("#sizes").innerHTML=B.list.map((function(e,n){return'\n\t\t\t\t\t\t\t<div class="option">\n\t\t\t\t\t\t\t\t\t<input type="radio" name="size" id="size-'+e.name+'" value="'+n+'" '+(n==t.input.sizeId?'checked="checked"':"")+"'>\n\t\t\t\t\t\t\t\t\t<label for=\"size-"+e.name+'">'+e.name+"</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t"})).join("\n"),document.querySelector('input[name="backlight"][value="yes"]').checked=this.input.hasBacklight,document.getElementById("toggle-backlight").disabled=!this.input.hasBacklight},t}()},975:function(t,e,n){"use strict";e.Z=n.p+"assets/images/brick.89b2cbf7576339171a283e4c18ae1ada.jpg"},2406:function(t,e,n){"use strict";e.Z=n.p+"assets/images/brick_narrow.b6bdd89b6e8993eeafff75ddf5c3e4ce.jpg"},1031:function(t,e,n){"use strict";e.Z=n.p+"assets/images/concrete.81fd936da23e2e4b4f66de21b45e6480.jpg"},8922:function(t,e,n){t.exports=n.p+"assets/fonts/AllertaStencil-Regular.32ee41107e3007e87831c743483e7838.ttf"},2169:function(t,e,n){t.exports=n.p+"assets/fonts/Bravo-Regular.e4366a86feec3beb1cf4359aad3daad2.ttf"},8584:function(t,e,n){t.exports=n.p+"assets/fonts/Magettas-Regular.4f4942fea78f04bb50d9dc125b93291d.ttf"},2616:function(t,e,n){t.exports=n.p+"assets/fonts/postnobillscolombo-medium.c9aebdb96335ab05c44d7b23be19708b.ttf"},625:function(t,e,n){t.exports=n.p+"assets/fonts/Roboto-Medium.7429a63c09f79a1760b0233e3e46f776.ttf"}}]);